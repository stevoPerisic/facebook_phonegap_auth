<html>
<head>
  <title>Hello World</title>
  <meta name="viewport" content="initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no" />
  <meta property="og:title" content="Hello world" />
  <meta property="og:type" content="website" />
  <meta property="og:site_name" content="Hello World" />
  <meta property="og:description" content="Hello World!  This is my mobile web sample app." />
  <meta property="og:image" content="http://www.facebookmobileweb.com/hackbook/img/facebook_icon_large.png"/>
   <style>
    body.connected #login { display: none; }
    body.connected #logout { display: block; }
    body.not_connected #login { display: block; }
    body.not_connected #logout { display: none; }
  </style>
  <script src="phonegap.js"></script>
  <script src="js/jquery-1.6.4.min.js"></script>
  <script>
  
   //Login button click
   function loginUser() {  
   		alert('You are trying to login!');  
		FB.login(function(response) { }, {scope:'email'});  	
 	};
  
	function logout(){
		FB.logout();	  
	};
  
  
  function onLoad() {
		var networkState = navigator.network.connection.type;
		 if (networkState == Connection.UNKNOWN || networkState == Connection.NONE) {
				 alert('no connection');
				
		 } else {
				alert('Hello and welcome there is Internet');
				
				(function() {
				  var e = document.createElement('script'); e.async = true;
					  e.src = document.location.protocol + '//connect.facebook.net/en_US/all.js';
					  document.getElementById('fb-root').appendChild(e);
					  }());
							 
					};
					
					
				 window.fbAsyncInit = function() {
					  FB.init({ appId: '226909127331855', 
					  status: true, 
					  cookie: true,
					  xfbml: true,
					  oauth: true});
				 
					  FB.Event.subscribe('auth.statusChange', handleStatusChange);	
					};
					
				 function handleStatusChange(response) {
					 document.body.className = response.authResponse ? 'connected' : 'not_connected';
					
					 if (response.authResponse) {
					   console.log(response);
					   updateUserInfo(response);
					 }
				   };
				   
				 //Log in  
				 $('#loginUser').bind('click', function(e){
					 e.prevantDefault();	
					 loginUser();
					 });
				 //Log out
				 $('#logout').bind('click', function(e){
					 e.preventDefault();
					 logout();
					 });
				
				
				//User info update
				function updateUserInfo(response) {
				  FB.api('/me', function(response) {
					document.getElementById('user-info').innerHTML = '<img src="https://graph.facebook.com/' + response.id + '/picture">' + response.name;
				  });
				};
				
				//get user friends
				 function getUserFriends() {
					FB.api('/me/friends&fields=name,picture', function(response) {
					  console.log('Got friends: ', response);
					  
					  if (!response.error) {
						var markup = '';
						
						var friends = response.data;
						
						for (var i=0; i < friends.length && i < 25; i++) {
						  var friend = friends[i];
						  
						  markup += '<img src="' + friend.picture + '"> ' + friend.name + '<br>';
						}
						
						document.getElementById('user-friends').innerHTML = markup;
					  }
					});
				  };
				  
				  
				 //publish story
				 function publishStory() {
					FB.ui({
					  method: 'feed',
					  name: 'I\'m building a social mobile web app!',
					  caption: 'This web app is going to be awesome.',
					  description: 'Check out Facebook\'s developer site to start building.',
					  link: 'http://www.facebookmobileweb.com/hello',
					  picture: 'http://www.facebookmobileweb.com/hackbook/img/facebook_icon_large.png'
					}, 
					function(response) {
					  console.log('publishStory response: ', response);
					});
					return false;
				  };
				  
				  //Send request
				   function sendRequest() {
					FB.ui({
					  method: 'apprequests',
					  message: 'invites you to learn how to make your mobile web app social',
					}, 
					function(response) {
					  console.log('sendRequest response: ', response);
					});
				  }
					
					
					
	};
	
  </script> 
</head>
<body onLoad="onLoad()">
  <div id="fb-root"></div>
  
   <div id="login">
     <p><a href="#" id="loginUser"><button >Login</button></a></p>
   </div>
   <div id="logout">
     <div id="user-info"></div>
     <p><a href="#" id="logout"><button>Logout</button></a></p>
   </div>
   
 
  
  <div id="user-info"></div>

  <a href="#" onClick="getUserFriends();">Get friends</a><br />
  <div id="user-friends"></div>
 
 
  <a href="#" onClick="publishStory();">Publish feed story</a><br />
  
  <a href="#" onClick="sendRequest();">Send request</a><br />
  
  <fb:like></fb:like>
</body>
</html>

<!--<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=0, minimum-scale=1.0, maximum-scale=1.0">
<title>Facebook and ChildBrowser oAuth</title>
<link href="css/master.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="phonegap.js"></script> 
<script type="text/javascript" src="childbrowser.js"></script> 
<script type="text/javascript" src="js/jquery-1.6.4.min.js"></script> 
<script type="text/javascript" src="js/main.js" ></script>

</head>
<body onLoad="onLoad()">
<div data-role="page" >
		<div data-role="content" role="main">
    	<h1>Facebook Client-side Authentication Example</h1>
      	<div id="auth-status">
        <div id="auth-loggedout">
          <a href="#" id="auth-loginlink">Login</a>
        </div>
        <div id="auth-loggedin" style="display:none">
          Hi, <span id="auth-displayname"></span>  
        (<a href="#" id="auth-logoutlink">logout</a>)
      	</div>
    	</div>
        
        <div id="displayCallback">
        <p>Hello <span id="name"></span> <span id="lastname"></span>, you're logged into Facebook!</p>
        <p>Your username is <span id="username"></span>, and you live in <span id="city"></span></p>
        </div>
	</div>
		
</div>

<div id="fb-root"></div>
</body>
</html>-->